<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <title>Create and deploy your own website on a custom domain</title>

  <script type="text/javascript">
    var appInsights = window.appInsights || function (config) {
      function r(config) { t[config] = function () { var i = arguments; t.queue.push(function () { t[config].apply(t, i) }) } } var t = { config: config }, u = document, e = window, o = "script", s = u.createElement(o), i, f; for (s.src = config.url || "//az416426.vo.msecnd.net/scripts/a/ai.0.js", u.getElementsByTagName(o)[0].parentNode.appendChild(s), t.cookie = u.cookie, t.queue = [], i = ["Event", "Exception", "Metric", "PageView", "Trace"]; i.length;)r("track" + i.pop()); return r("setAuthenticatedUserContext"), r("clearAuthenticatedUserContext"), config.disableExceptionTracking || (i = "onerror", r("_" + i), f = e[i], e[i] = function (config, r, u, e, o) { var s = f && f(config, r, u, e, o); return s !== !0 && t["_" + i](config, r, u, e, o), s }), t
    }({
      instrumentationKey: "7835d8bd-cc2d-4cd1-ace6-04799eba844f"
    });

    window.appInsights = appInsights;
    appInsights.trackPageView();
  </script>

  <link rel="stylesheet" href="css/reveal.css">
  <link rel="stylesheet" href="css/theme/black.css">
  <style>
    footer {
      position: fixed;
      bottom: 1.5em;
      left: 1.5em;
      font-size: 1.5em;
    }

    footer,
    footer>a {
      color: #fff;
    }
  </style>

  <!-- Theme used for syntax highlighting of code -->
  <link rel="stylesheet" href="lib/css/zenburn.css">

  <meta name="description" content="How To Improve Code Quality">
  <meta name="author" content="Kip Streithorst">
  <style>
    ul.code {
      width: 100%;
    }
  </style>
  <!-- Printing and PDF exports -->
  <script>
    var link = document.createElement('link');
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
    document.getElementsByTagName('head')[0].appendChild(link);
  </script>
</head>

<body>
  <div class="reveal">
    <div class="slides">
      <section>
        <h3>Create and deploy your own website on a custom domain</h3>
        <h4>2019</h4>
        <h4>Follow along at:</h4>
        <p>
          <a href="http://itsnull.com/">http://itsnull.com/</a>
        </p>
        <p>
          <a href="http://itsnull.com/presentations/customSite/">http://itsnull.com/presentations/customSite/</a>
        </p>
        <p>
          <small>Created by
            <a href="http://itsnull.com">Kip Streithorst</a> /
            <a href="http://twitter.com/itsnull">@itsnull</a>
          </small>
        </p>
      </section>
      <section>
        <h3>High Level Goals</h3>
        <ul>
          <li>Write your HTML, JS, CSS</li>
          <li>Buy a domain and host at https://[myowndomain].com/</li>
        </ul>
      </section>
      <section>
        <h3>Before you can follow along</h3>
        <ul>
          <li>To follow along if desired, please do the following:</li>
          <li>Create <a href="https://github.com/">GitHub</a> Account</li>
          <li>Download and Install <a href="https://git-scm.com/">Git</a></li>
          <li>Have a text editor of your choice. I'll use <a href="https://code.visualstudio.com/">VS Code</a></li>
        </ul>
      </section>
      <section>
        <h3>Why buy a domain?</h3>
        <ul>
          <li>If you run on blog on wordpress or medium, that is part of the url</li>
          <li>If you ever move to another platform, you can't own the migration of users</li>
          <li>It's how the web was intended</li>
          <li>You can move domains between registrars, you can move the physical server between platforms</li>
          <li>For the best long-term benefits, buy your own domain</li>
        </ul>
      </section>
      <section>
        <h3>Why run your own server?</h3>
        <ul>
          <li>You really shouldn't run your own server</li>
          <li>You likely don't need a server at all</li>
          <li>Let's find a way to host content for free or nearly free</li>
        </ul>
      </section>
      <section>
        <h3>Why write your own HTML, JS and CSS?</h3>
        <ul>
          <li>You can if you want</li>
          <li>I find coding my own site a useful playground to learn</li>
          <li>Feel free to use static generation tools that have pre-built templates</li>
        </ul>
      </section>
      <section>
        <h3>What happens when you visit a site?</h3>
        <ul>
          <li>Browser locates the DNS record for the domain</li>
          <li>Browser then contacts the server identified by the DNS record</li>
        </ul>
      </section> 
      <section>
        <h3>What is DNS?</h3>
        <ul>
          <li>Domain Name System</li>
          <li>Network communication occurs via IP addresses</li>
          <li>Either IP V4 (185.199.110.153) or IP V6 (2001:4860:4860::8888)</li>
          <li>DNS is used to convert names (e.g. google.com, itsnull.com) into IP addresses</li>
        </ul>
      </section> 
      <section>
        <h3>How do I serve up HTML, CSS, JS content?</h3>
        <ul>
          <li>Allocate a server somewhere, install software, manage it, patch it, etc.</li>
          <li>Or, use hosting services.</li>
        </ul>
      </section> 
      <section>
        <h3>Host content using GitHub Pages</h3>
        <ul>
          <li><a href="https://help.github.com/en/articles/what-is-github-pages">https://help.github.com/en/articles/what-is-github-pages</a></li>
          <li>Free static hosting service provided by GitHub</li>
          <li>Use Git to push content to your site.</li>
        </ul>
      </section>
      <section>
        <h3>GitHub Pages - Let's get started</h3>
        <ul>
          <li>Create <a href="https://github.com/">GitHub</a> Account</li>
          <li>Download and Install <a href="https://git-scm.com/">Git</a></li>
        </ul>
      </section>      
      <section>
        <h3>GitHub Pages (cont.)</h3>
        <ul>
          <li>Create new GitHub repository w/ README</li>
          <li>Clone that repository locally</li>
        </ul>
      </section>      
      <section>
        <h3>GitHub Pages (cont.)</h3>
        <ul>
          <li>Create new branch gh-pages</li>
          <pre>git branch gh-pages</pre>
          <pre>git checkout gh-pages</pre>
        </ul>
      </section>      
      <section>
        <h3>GitHub Pages (cont.)</h3>
        <ul>
          <li>Create index.html, paste following content in:</li>
          <pre><code>&lt;!doctype html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;meta name="viewport"
    content="width=device-width, initial-scale=1"&gt;
  &lt;meta name="description" content="Hello world"&gt;
  &lt;title>My first page&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1>Hello from GitHub Pages!&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
        </ul>
      </section>      

      <section>
        <h3>GitHub Pages (cont.)</h3>
        <ul>
          <li>Add and commit index.html</li>
          <pre>git add *</pre>
          <pre>git commit -m "Add initial page"</pre>
        </ul>
      </section>      

      <section>
        <h3>GitHub Pages (cont.)</h3>
        <ul>
          <li>Push index.html to GitHub, first time only</li>          
          <pre>git push --set-upstream origin gh-pages</pre>
          <li>Later, only need</li>
          <pre>git push</pre>
        </ul>
      </section>

      <section>
        <h3>GitHub Pages (cont.)</h3>
        <ul>
          <li>View it in a browser</li>
          <li>Go to https://[githubusername].github.io/[repo-name]/</li>
        </ul>
      </section>

      <section>
        <h3>Make some changes</h3>
        <ul>
          <li>Edit index.html, change message inside &lt;h1&gt;&lt;/h1&gt;</li>
          <pre>git add *</pre>
          <pre>git commit -m "My first change"</pre>
          <pre>git push</pre>
          <li>Refresh the browser</li>
        </ul>
      </section>

      <section>
        <h3>Congrats!</h3>
        <ul>
          <li>You just pushed custom content to the web</li>
          <li>It cost you $0 dollars</li>
        </ul>
      </section>
  
      <section>
        <h3>What Now?</h3>
        <ul>
          <li>Can I host this at my own site? e.g. http://itsnull.com/</li>
          <li>Can I add JS, CSS?</li>
          <li>Do I have to hand author everything on my site?</li>
          <li>Do I have to use GitHub Pages?</li>
        </ul>
      </section>

      <section>
        <h3>What are static sites?</h3>
        <ul>
          <li>Static site - The HTML, CSS and JS are returned as-is from the server</li>
          <li>That's it - that's the entire definition</li>
          <li>You can use tools to pre-generate the content, e.g. like a compiler</li>
          <li>Once JS is running, it can do all kinds of things</li>
          <li>JS can make AJAX calls to fetch data and dynamically render markup</li>
        </ul>
      </section>

      <section>
        <h3>Why static sites?</h3>
        <ul>
          <li>Every web server on any OS can host static files</li>
          <li>They are extremely portable to hosting providers (AWS S3, Azure Blob Storage, Netlify, CDNs, etc.)</li>
          <li>They are extremely cheap for webserver to serve, simply return file on filesystem</li>
        </ul>
      </section>

      <section>
        <h3>Why static sites? (cont.)</h3>
        <ul>
          <li>You can still call api endpoints using JS, but now those api endpoints are fully de-coupled from front-end and re-usable</li>
          <li>You can use any tool to generate them (either completely manual or use static site generation tools)</li>
        </ul>
      </section>

      <section>
        <h3>Why static sites? (cont)</h3>
        <ul>
          <li>Does your site really change every minute? every hour?</li>
          <li>Likely it's once a week, once a month, maybe once a day</li>
          <li>You can run continous deploy systems to auto-build your site and deploy static content when it changes</li>
        </ul>
      </section>

      <section>
        <h3>Static Site Example</h3>
        <ul>
          <li><a href="https://discoverdot.net/">https://discoverdot.net/</a></li>
          <li>Content for site is managed in GitHub, <a href="https://github.com/daveaglick/discoverdotnet">https://github.com/daveaglick/discoverdotnet</a></li>
          <li>Built every hour using <a href="https://wyam.io/">Wyam</a> static generator and published to <a href="https://www.netlify.com/">Netlify</a> hosting provider.</li>
          <li>Site doesn't seem very static does it?</li>
        </ul>
      </section>

      <section>
        <h3>Static Site Example (cont.)</h3>
        <ul>
          <li><a href="https://kstreith.github.io/static-site-examples/">https://kstreith.github.io/static-site-examples/</a></li>
          <li>Content for site is managed in GitHub, <a href="https://github.com/kstreith/static-site-examples">https://github.com/kstreith/static-site-examples</a></li>
          <li>Three examples using VueJS framework to make an AJAX call and then render content</li>
        </ul>
      </section>

      <section>
        <h3>Custom Domain</h3>
        <ul>
          <li>Want your own custom domain, e.g. itsnull.com?</li>
          <li>Each part of api.itsnull.com is different part of a domain</li>
          <li>com is the gTLD - Generic top-level domain</li>
          <li>itsnull is the domain that you purchase</li>
          <li>api is a sub-domain, it can be pointed to a different IP address than itsnull</li>
          <li>You could have many subdomains, e.g. blog.itsnull.com and games.itsnull.com</li>
        </ul>
      </section>

      <section>
        <h3>What are gTLDs?</h3>
        <ul>
          <li>Generic Top-Level Domain</li>
          <li>Common ones are: .com, .net, .org, .mil</li>
          <li>Each may have it's own restrictions, e.g. .uk, .mil</li>
          <li>They are managed by ICANN</li>
          <li>Thousands of new ones are being approved, e.g. .art, .io, .club</li>
          <li>Each has it's own prices</li>
        </ul>
      </section>

      <section>
        <h3>Domain Registrar</h3>
        <ul>
          <li>Once you've picked the gTLD you are using</li>
          <li>You simply lease the domain using a domain registar</li>
          <li>Domain registrators are contracted by ICANN</li>
          <li><a href="https://www.namecheap.com/">NameCheap</a>, GoDaddy</li>
          <li>Each registar charges differently</li>
        </ul>
      </section>

      <section>
        <h3>Domain Registrar Cont.</h3>
        <ul>
          <li>Domain registrar maintains the official DNS records for your domain</li>
          <li>DNS records are cached throughout the internet, OS, browser</li>
          <li>Changing DNS is not immediate</li>
          <li><a href="https://www.whatsmydns.net/">https://www.whatsmydns.net/</a></li>
        </ul>
      </section>

      <section>
        <h3>Domain Registrar Cont.</h3>
        <ul>
          <li>Registrar typically runs a nameserver for you</li>
          <li>Registrar points to authoritive nameserver</li>
          <li>You can delegate to another nameserver (e.g. Azure, AWS, etc.)</li>
          <li>The nameserver maintains the actual DNS records (A, CNAME, etc)</li>
        </ul>
      </section>

      <section>
        <h3>Domain Registrar Cont.</h3>
        <ul>
          <li>When you register a domain, personal information is put into WHOIS registry</li>
          <li>With GDPR, legality of that is being figured out</li>
          <li>Some registrars will hide personal information for free, e.g. <a href="https://www.namecheap.com/">NameCheap</a></li>
        </ul>
      </section>

      <section>
        <h3>Buy your own domain and come back</h3>
        <ul>
          <li>Go buy a domain at a domain registrar</li>
          <li>Just need registrar ability to set custom DNS records (e.g. A, CNAME)</li>
          <li>Once you have a domain, I will show how to configure the DNS</li>
          <li>To follow along, use and login to <a href="https://www.namecheap.com/">NameCheap</a></li>
        </ul>
      </section>

      <section>
        <h3>Register DNS to use GitHub Pages (cont.)</h3>
        <ul>
          <li>Now that you are logged into NameCheap</li>
          <li>Find your domain and <b>click Manage</b></li>
          <li>You should have already purchased the domain, if not, do that now</li>
        </ul>
        <img src="images/NameCheapMainPage.PNG" style="max-height: 350px;" />
      </section>

      <section>
        <h3>Register DNS to use GitHub Pages (cont.)</h3>
        <ul>
          <li>Check that the NameServer is set to <b>Namecheap Basic DNS</b></li>
          <li>Click on <b>Advanced DNS</b></li>
        </ul>
        <img src="images/NameCheapDomainPage.PNG" />
      </section>

      <section>
        <h3>Register DNS to use GitHub Pages (cont.)</h3>
        <ul>
          <li>Use button to add a new DNS record of type A</li>
          <li>Go ahead and add 4 A Records with a host of @ pointing to GitHub's IP addresses. See <a href="https://help.github.com/en/articles/setting-up-an-apex-domain#configuring-a-records-with-your-dns-provider">GitHub Docs</a></li>
        </ul>
        <img src="images/NameCheapDnsPage.PNG" style="max-height: 350px;" />
      </section>

      <section>
        <h3>Register DNS to use GitHub Pages (cont.)</h3>
        <ul>
          <li>That was the DNS portion, you still need to configure GitHub Pages</li>
          <li>Login to GitHub and go to your repository from earlier</li>
        </ul>
      </section>

      <section>
        <h3>Register DNS to use GitHub Pages (cont.)</h3>
        <ul>
          <li>Once logged into GitHub, go to your repository</li>
          <li>Click the <b>Settings tab</b></li>
        </ul>
        <img src="images/GitHubRepoSettings.PNG" style="max-height: 350px;" />
      </section>

      <section>
        <h3>Register DNS to use GitHub Pages (cont.)</h3>
        <ul>
          <li>Scroll down on settings page to GitHub Pages section</li>
          <li>Enter the name of your custom domain.</li>
          <li>Save settings and page will now be available in the browser using http://[customdomain]/</li>
        </ul>
        <img src="images/GitHubPagesSettings.PNG" style="max-height: 350px;" />
      </section>

      <section>
        <h3>Troubleshooting</h3>
        <ul>
          <li>DNS may not have propagated, it can take awhile.</li>
          <li>Use <a href="https://www.whatsmydns.net/">https://www.whatsmydns.net/</a></li>
          <li>Run nslookup in the command line
            <pre>nslookup kipstreithorst.com</pre>
          </li>
          <li>Clear DNS on your machine, on command line execute
            <pre>ipconfig /flushdns</pre>
          </li>
        </ul>
      </section>

      <section>
        <h3>Troubleshooting</h3>
        <ul>
          <li>Only HTTP will work properly</li>
          <li>If you access using https://[customdomain]/, you will get a certificate warning</li>
          <li>GitHub is generating a Let's Encrypt certificate for your site in the background</li>
          <li>Proper certificate generation can take up to 24 hours</li>
          <li>Click the Enforce HTTPS checkbox, it's best practice</li>
        </ul>
      </section>

      <section>
        <h3>Congratulations!</h3>
        <ul>
          <li>You now have a custom site hosted at your own domain.</li>
          <li>You are only paying for the domain, e.g. less than $20 a year.</li>
          <li>You site is secured with HTTPS and SSL.</li>
        </ul>
      </section>

      <section>
        <h3>How do I create lots of pages?</h3>
        <ul>
          <li>You can hand author each page, or...</li>
          <li>Use a static site generator.</li>
          <li>There are lots of them, see <a href="https://www.staticgen.com/"></a></li>
          <li>I'm going to show the most popular .NET one, <a href="https://wyam.io/">Wyam</a>
          </li>
        </ul>
      </section>

      <section>
        <h3>Why Wyam?</h3>
        <ul>
          <li>I'm a .NET stack developer, I want to be productive in my hobby time.</li>
          <li>Wyam uses Razor syntax, Nuget packages, allows unit testing of custom modules</li>
          <li>Wyam is highly configurable</li>
          <li>Wyam uses .NET Core 2</li>
          <li>Entire project is open-source at <a href="https://github.com/Wyamio">https://github.com/Wyamio</a>.</li>
        </ul>
      </section>

      <section>
        <h3>How to get started with Wyam</h3>
        <ul>
          <li>First install .NET Core 2, specifically <a href="https://dotnet.microsoft.com/download/dotnet-core/2.1">.NET Core 2.1 SDK</a></li>
          <li>Check version using
            <pre>dotnet --info</pre>
          </li>
          <li>You can pin a directory to a particular SDK version using
            <pre>dotnet new globaljson --sdk-version [sdk-version-goes-here]</pre>
          </li>
        </ul>
      </section>

      <section>
        <h3>How to get started with Wyam (cont)</h3>
        <ul>
          <li>Install Wyam global tool for .NET Core
            <pre>dotnet tool install -g Wyam.Tool</pre>
          </li>
          <li>Check it's installed using
            <pre>wyam --version</pre>
          </li>
          <li>List all installed global tools
            <pre>dotnet tool list -g</pre>
          </li>
          <li>Uninstall it later
            <pre>dotnet tool uninstall -g Wyam.Tool</pre>
          </li>
        </ul>
      </section>

      <section>
        <h3>How to get started with Wyam (cont)</h3>
        <ul>
          <li>To recipe or not to recipe</li>
          <li>I prefer building my config from the ground up</li>
          <li>But Wyam recipes provide quickest new project experience</li>
        </ul>
      </section>

      <section>
        <h3>Wyam - Blog recipe</h3>
        <ul>
          <li>Create a blog
            <pre>wyam new --recipe Blog</pre>
          </li>
          <li>Build the site and run with a test server locally
            wyam -p -w
          </li>
          <li>Build the final static output to deploy
            wyam
          </li>
        </ul>
      </section>

      <section>
        <h3>Wyam - Custom pipelines</h3>
        <ul>
          <li>Need a config.wyam, this is a C# script like file with special syntax</li>
          <li>Need an input folder</li>
          <li>Wyam will build to the output folder</li>
        </ul>
      </section>

      <section>
        <h3>Wyam - Custom pipelines (cont)</h3>
        <pre>
  #n Wyam.Yaml //pulls in Nuget package
  #n Wyam.Razor //pulls in Nuget package
  #n Wyam.Markdown //pulls in Nuget package
          
  Settings[Keys.Host] = "host.com"; //global dictionary
          
  Pipelines.Add("PresentationPages",
    ReadFiles("presentations/*.md"),
    FrontMatter(Yaml()),
    Markdown(),
    Razor().WithLayout("/_PresentationLayout.cshtml"),
    WriteFiles(".html")
  );
        </pre>
      </section>

      <section>
        <h3>Wyam - Custom pipelines (cont)</h3>
        <ul>
          <li>Each Pipeline has a name and is sequence of modules</li>
          <li>Each module takes an list of Documents as input and generates a list of Documents as output</li>
          <li>A document is content and metadata about the content</li>
        </ul>
      </section>

      <section>
          <h3>Wyam - Custom pipelines (cont)</h3>
          <ul>
            <li>Modules are small and composable</li>
            <li>There are lots of <a href="https://wyam.io/modules/">built-in modules</a></li>
            <li>You can code your own modules in C# and then reference the assemblies.</li>
            <li>You can write unit tests for custom modules.</li>
          </ul>
      </section>

      <section>
          <h3>Wyam - Templates</h3>
          <ul>
            <li>There is a built-in Razor() template</li>
            <li>It will render a document using the given Razor template.</li>
            <li>There is a built-in Markdown() module that parses Markdown and generates HTML.</li>
          </ul>
      </section>

      <section>
        <h3>Thanks, Any Questions?</h3>
        <ul>
          <li>Kip Streithorst</li>
          <li>Twitter:
            <a target="_blank " href="http://twitter.com/itsnull ">@itsnull</a>
          </li>
          <li>Blog:
            <a target="_blank " href="http://itsnull.com/ ">http://itsnull.com/</a>
          </li>
          <li>Presentation:
            <a target="_blank " href="http://itsnull.com/presentations/customSite/ ">http://itsnull.com/presentations/customSite/</a>
        </ul>
      </section>
    </div>
  </div>
  <footer>
    <a href="http://itsnull.com ">http://itsnull.com</a>
    <br/>
    <a href="https://twitter.com/itsnull ">@itsnull</a>
  </footer>
  <script src="lib/js/head.min.js "></script>
  <script src="js/reveal.js "></script>

  <script>
    // More info https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
      history: true,

      // More info https://github.com/hakimel/reveal.js#dependencies
      dependencies: [
        { src: 'plugin/markdown/marked.js' },
        { src: 'plugin/markdown/markdown.js' },
        { src: 'plugin/notes/notes.js', async: true },
        { src: 'plugin/highlight/highlight.js', async: true, callback: function () { hljs.initHighlightingOnLoad(); } }
      ]
    });
  </script>

  <script>
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date(); a = s.createElement(o),
        m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-46954011-1', 'auto');
    ga('send', 'pageview');

  </script>

</body>

</html>